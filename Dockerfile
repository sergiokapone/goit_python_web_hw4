# Указываем базовый образ
FROM python:3.10-alpine

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем все файлы проекта в рабочую директорию контейнера
COPY . /app

# Устанавливаем переменную окружения для файла данных
ENV JSON_FILE /app/storage/data.json

# Создаем каталог storage, если его нет
RUN mkdir -p /app/storage

# Запускаем HTTP-сервер и сервер сокетов
CMD ["python", "main.py"]
